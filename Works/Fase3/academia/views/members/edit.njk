{% extends "layout.njk" %}

{% block content %}

   <div class="card">

      <section class="avatar" style="background: url({{member.avatar_url}}) no-repeat center center / cover"></section>

      <section class="details">

         <form method="POST" action="/members?_method=PUT">

            <h3>Novo Membro</h3>

            {% include "members/fields.njk" %}

            <input type="hidden" name="id" value="{{member.id}}">
         </form>

         <form id="form-delete" action="/members?_method=DELETE" method="post">
            <input type="hidden" name="id" value={{member.id}}>
            <button type="submit">Deletar</button>
         </form>


      </section>
   </div>
   {# confirmationirmação se a pessoa realmente quer deletar ou não?m caso queira, aperte o ok, se não, apaerte o cancel
   e assim entrará no if, de modo que o evento não ocorra com o preventDefalout, que ele basicamente cancela o padrão,
   cancela o evento de submit#}
   <script>
         const formDelete = document.querySelector("#form-delete");
         
         formDelete.addEventListener("submit", function(event){
            const confirmation = confirm("Tem certeza que deseja deletar?");
            
            if(!confirmation){
               event.preventDefault()
            }
         })
    </script>
{% endblock content%}